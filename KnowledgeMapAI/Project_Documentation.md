# KnowledgeMapAI - 智能知识图谱课程生成系统

> **项目说明文档**
> 
> *生成时间：2026-02-10*

---

## 1. 项目简介 (Project Introduction)

### 🔴 当前痛点
在碎片化信息爆炸的时代，学习者面临三大难题：
1.  **知识零散**：网上的教程和文章往往是碎片的，缺乏系统性的结构。
2.  **路径模糊**：想学习一个新领域（如"量子力学"或"React开发"），不知道从何入手，先后顺序如何安排。
3.  **内容静态**：传统的视频或文档教程无法根据用户的背景（入门/专家）或偏好（幽默/学术）进行调整。

### 🟢 解决方案
**KnowledgeMapAI** 是一个基于生成式 AI 的智能学习平台。用户只需输入一个关键词（如"Python编程"），系统即可实时构建出一棵结构完整的**知识图谱树**。
它不仅仅生成大纲，更能自动生成详细的章节内容、测验题，并提供上下文感知的 AI 助教。它将"搜索信息"转化为"构建课程"，为用户提供即时、系统、个性化的学习体验。

---

## 2. 业务价值说明 (Business Value)

### 对用户的价值
*   **零门槛系统化学习**：一键生成从入门到精通的学习路径，省去数小时的资料搜集整理时间。
*   **个性化定制**：支持选择难度（入门/进阶/专家）和风格（学术严谨/幽默风趣），让学习体验更贴合个人需求。
*   **沉浸式学习流**：集成了阅读、笔记、AI 问答和进度追踪，在一个界面内完成闭环学习，减少注意力分散。

### 对业务/教育机构的价值
*   **内容生产提效**：辅助教研人员快速生成课程骨架和初稿，将课程研发周期从"周"缩短到"分钟"。
*   **千人千面**：能够以极低成本为每一位学生生成专属的辅导材料，实现规模化的因材施教。
*   **知识资产沉淀**：通过用户生成的图谱，自动沉淀各领域的结构化知识库。

---

## 3. AI 创新性说明 (AI Innovation)

AI 不仅仅是本项目的一个挂件，而是驱动整个系统的核心引擎。

### 核心 AI 能力
1.  **递归式结构生成 (Recursive Structure Generation)**：
    *   AI 不是一次性吐出所有内容，而是采用"大纲-子章节-正文"的分层生成策略。先构建宏观的知识树（Tree），再根据需求动态填充微观的叶子节点（Leaf Nodes）。
    *   *创新点*：解决了长文本生成容易跑题和逻辑混乱的问题，确保课程结构严谨。

2.  **上下文感知的流式生成 (Context-Aware Streaming)**：
    *   在生成某一章节时，AI 会自动读取"上节回顾"和"全课大纲"作为上下文（Context）。
    *   *创新点*：确保章节之间逻辑连贯，避免知识点孤立或重复。

3.  **动态任务调度 (Dynamic Task Orchestration)**：
    *   系统维护一个智能任务队列（Task Queue），AI 可以根据当前生成的节点内容，自动判断是否需要进一步拆分"子任务"。
    *   *创新点*：实现了"边生成边规划"的自适应能力，对于复杂的知识点，AI 会自动将其拆解得更细。

---

## 4. 技术实现说明 (Technical Implementation)

本项目采用前后端分离架构，重点解决了长时任务管理和复杂状态同步问题。

### 整体架构
*   **前端 (Frontend)**：Vue 3 + TypeScript + Pinia + Element Plus
*   **后端 (Backend)**：Python FastAPI + LangChain/LLM Integration
*   **数据流**：Server-Sent Events (SSE) 流式传输 + WebSocket (可选)

### 关键技术点
1.  **任务队列系统 (Task Queue System)**：
    *   前端维护一个 `Task Map` 和 `Queue`。生成请求不是同步等待响应，而是被封装成一个个 `QueueItem`（如 `structure`, `content`）。
    *   支持**断点续传**：即使刷新页面，任务状态也会持久化，用户可以随时暂停/继续生成过程。

2.  **约束式 UI 交互 (Constraint-based UI)**：
    *   左侧知识树与右侧内容区通过响应式数据流深度绑定。
    *   实现了基于鼠标事件的精准拖拽调整（Sidebar Resizing），并带有防布局崩溃的约束逻辑。

3.  **智能状态机 (Smart State Machine)**：
    *   每个课程节点拥有独立状态（`pending` -> `generating` -> `completed`）。
    *   UI 组件（`CourseTree`）通过状态机实时展示生成进度（呼吸灯效果、进度条）。

---

## 5. 交互与设计说明 (Interaction & Design)

设计理念：**"Glassmorphism & Focus"（毛玻璃与专注）**

### 关键界面流程
1.  **创建向导 (The Spark)**：
    *   用户点击"+"，弹出全屏毛玻璃质感的对话框。
    *   输入主题，通过卡片式选项选择"难度"（颜色编码：绿色入门/蓝色进阶/紫色专家）。
    *   点击生成后，系统立即跳转至课程视图，展示"正在构建骨架"的动态效果。

2.  **知识树导航 (The Tree)**：
    *   左侧为动态生长的知识树。正在生成的节点会显示琥珀色呼吸灯效果。
    *   支持右键或悬浮操作：暂停生成、重新生成、添加笔记。

3.  **沉浸式阅读区 (The Focus Area)**：
    *   右侧为Markdown渲染的内容区，支持流式打字机效果。
    *   **AI 侧边栏**：点击右侧 Toggle 可展开 AI 助手，针对当前选中的章节进行提问或生成测试题。

### 视觉风格
*   **配色**：以 Slate（板岩灰）为基底，使用 Indigo/Violet（靛蓝/紫罗兰）作为主色调，强调科技感与沉静感。
*   **质感**：大量使用 `backdrop-blur`（背景模糊）和半透明层，营造轻量、现代的视觉体验。

---
*注：本文档内容基于项目代码库现状（CourseView, CourseTree, Store逻辑）编写，真实反映了系统功能。*
